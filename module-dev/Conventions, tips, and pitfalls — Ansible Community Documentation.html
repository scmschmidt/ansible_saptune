<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../"><head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <meta charset="utf-8"><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Conventions, tips, and pitfalls — Ansible Community Documentation</title>
      <link rel="stylesheet" type="text/css" href="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/pygments.css">
      <link rel="stylesheet" type="text/css" href="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/ansible.css">
      <link rel="stylesheet" type="text/css" href="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/antsibull-minimal.css">
      <link rel="stylesheet" type="text/css" href="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/copybutton.css">
      <link rel="stylesheet" type="text/css" href="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/rtd-ethical-ads.css">

  
    <link rel="shortcut icon" href="https://docs.ansible.com/ansible/latest/_static/images/Ansible-Mark-RGB_Black.png">
    <link rel="canonical" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_best_practices.html">
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/banner.js" type="text/javascript" id="cookieBanner-330046" data-cookieconsent="ignore" data-hs-ignore="true" data-loader="hs-scriptloader" data-hsjs-portal="330046" data-hsjs-env="prod" data-hsjs-hublet="na1"></script><script type="text/javascript" async="" src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/js_002"></script><script type="text/javascript" async="" src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/js_003"></script><script type="text/javascript" async="" src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/analytics.js"></script><script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/330046.js" type="text/javascript" id="hs-script-loader"></script><script id="hs-analytics" src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/330046_002.js"></script><script async="" src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/gtm.js"></script><script async="" src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/st.js"></script><script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/jquery.js"></script>
        <script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/documentation_options.js"></script>
        <script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/doctools.js"></script>
        <script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/sphinx_highlight.js"></script>
        <script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/clipboard.min.js"></script>
        <script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/copybutton.js"></script>
    <script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/theme.js"></script>
    <link rel="index" title="Index" href="https://docs.ansible.com/ansible/latest/genindex.html">
    <link rel="search" title="Search" href="https://docs.ansible.com/ansible/latest/search.html">
    <link rel="next" title="Ansible and Python 3" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_python_3.html">
    <link rel="prev" title="Contributing your module to an existing Ansible collection" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_checklist.html"><!-- extra head elements for Ansible beyond RTD Sphinx Theme -->
<script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/dtm.js"></script><script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/AppMeasurement.min.js" async=""></script><script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/AppMeasurement_Module_ActivityMap.min.js" async=""></script><script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/rh.mktg.js"></script>


<!-- <meta class="swiftype" name="published_at" data-type="date" content="2017-12-13" /> -->
<meta class="swiftype" name="version" data-type="string" content="10">

<!-- Google Tag Manager Data Layer -->
<script>
 dataLayer = [];
</script>
<!-- End Google Tag Manager Data Layer -->



<script>
  (function(w,d,t,u,n,s,e){w['SwiftypeObject']=n;w[n]=w[n]||function(){
  (w[n].q=w[n].q||[]).push(arguments);};s=d.createElement(t);
  e=d.getElementsByTagName(t)[0];s.async=1;s.src=u;e.parentNode.insertBefore(s,e);
  })(window,document,'script','https://s.swiftypecdn.com/install/v2/st.js','_st');

_st('install','yABGvz2N8PwcwBxyfzUc','2.0.0');
</script>

<link rel="stylesheet" type="text/css" href="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/new_embed-2552d8d62d9c60f59b3b11a5d083d1ebd090c72de809fc7c76.css"><style type="text/css">.st-install-yABGvz2N8PwcwBxyfzUc .st-ui-result .st-ui-type-heading { color:#5bbdbf !important }
.st-install-yABGvz2N8PwcwBxyfzUc .st-ui-result em {font-style:normal; font-weight:bold; background-color:#f6fcfe !important}</style><script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/RC64c4139883b6449e9007dae118d46129-source.min.js" async=""></script><script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/RCb3347083d3c74782ad8b87082d840d03-source.min.js" async=""></script><script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/RCaeae9fdd3ba243ddb2ee3b09b79202c7-source.min.js" async=""></script><script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/RC9bdf9a2dcb6841e1b69b64c7654c3182-source.min.js" async=""></script><script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/RC8fd79e9f4e5942d7b94e766cb5eb9256-source.min.js" async=""></script><script type="text/javascript" src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/elqCfg.min.js"></script><script src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/RC0548ca5c51b34db08240b0dce9707f2f-source.min.js" async=""></script><script type="text/javascript" src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/js"></script></head>

<body class="wy-body-for-nav"><!-- extra body elements for Ansible beyond RTD Sphinx Theme -->
<!-- Google Tag Manager -->
<noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-PSB293" height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
<script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start': new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0], j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src='https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f); })(window,document,'script','dataLayer','GTM-PSB293');</script>
<!-- End Google Tag Manager -->

<div class="DocSite-globalNav ansibleNav">
  <ul>
    <li><a href="https://www.ansible.com/blog" target="_blank">Blog</a></li>
    <li><a href="https://forum.ansible.com/" target="_blank">Ansible community forum</a></li>
    <li><a href="https://docs.ansible.com/" target="_blank">Documentation</a></li>
  </ul>
</div>

<a class="DocSite-nav" href="https://docs.ansible.com/" style="padding-bottom: 30px;">

  <img class="DocSiteNav-logo" src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/Ansible-Mark-RGB_White.png" alt="Ansible Logo">
  <div class="DocSiteNav-title">Ansible Community Documentation</div>
</a>
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">

          
          
          <a href="https://docs.ansible.com/ansible/latest/index.html" class="icon icon-home">
            Ansible
          </a>
              <div class="version">
                10
              </div><!--- Based on https://github.com/rtfd/sphinx_rtd_theme/pull/438/files -->

<div class="version">
  
    <form class="version-dropdown" method="get">
      <script>
        function switchVersionTo(slug) {
          var current_url_path = window.location.pathname;
          var url_version = current_url_path.search("/10/") > -1
            ? "/10/"
            : "/latest/";
          var new_version_url = current_url_path.replace(url_version, "/" + slug + "/");
          window.location.replace(new_version_url);
        }
      </script>
      <label class="sr-only" for="version-list">Select version:</label>
      <select class="version-list" id="version-list" onchange="switchVersionTo(this.value);">
        
        <option value="latest" selected="selected">
            latest
        </option>
        
        <option value="9">
            9
        </option>
        
        <option value="2.9">
            2.9
        </option>
        
        <option value="devel">
            devel
        </option>
        
      </select>
    </form>
  
</div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" method="get">
    <label class="sr-only" for="q">Search docs:</label>
    <input type="text" class="st-default-search-input" id="q" name="q" placeholder="Search docs" autocomplete="off" autocorrect="off" autocapitalize="none">
    <input type="hidden" name="check_keywords" value="yes">
    <input type="hidden" name="area" value="default">
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
  
              <p class="caption" role="heading"><span class="caption-text">Ansible getting started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/getting_started/index.html">Getting started with Ansible</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/getting_started_ee/index.html">Getting started with Execution Environments</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installation, Upgrade &amp; Configuration</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/installation_guide/index.html">Installation Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/porting_guides/porting_guides.html">Ansible Porting Guides</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Using Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/inventory_guide/index.html">Building Ansible inventories</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/command_guide/index.html">Using Ansible command line tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/playbook_guide/index.html">Using Ansible playbooks</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/vault_guide/index.html">Protecting sensitive data with Ansible vault</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/module_plugin_guide/index.html">Using Ansible modules and plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/collections_guide/index.html">Using Ansible collections</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/os_guide/index.html">Using Ansible on Windows and BSD</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/tips_tricks/index.html">Ansible tips and tricks</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing to Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/index.html">Ansible Community Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/contributions_collections.html">Ansible Collections Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/contributions.html">ansible-core Contributors Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/community/advanced_index.html">Advanced Contributor Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/style_guide/index.html">Ansible documentation style guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Extending Ansible</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/index.html">Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Common Ansible Scenarios</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/scenario_guides/cloud_guides.html">Legacy Public Cloud Guides</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Network Automation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/network/getting_started/index.html">Network Getting Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/network/user_guide/index.html">Network Advanced Topics</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/network/dev_guide/index.html">Network Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Ansible Galaxy</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/galaxy/user_guide.html">Galaxy User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/galaxy/dev_guide.html">Galaxy Developer Guide</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Reference &amp; Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/collections/index.html">Collection Index</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/collections/all_plugins.html">Indexes of all modules and plugins</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/playbooks_keywords.html">Playbook Keywords</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/common_return_values.html">Return Values</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/config.html">Ansible Configuration Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/general_precedence.html">Controlling how Ansible behaves: precedence rules</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/YAMLSyntax.html">YAML Syntax</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/python_3_support.html">Python 3 Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/interpreter_discovery.html">Interpreter Discovery</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/release_and_maintenance.html">Releases and maintenance</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/test_strategies.html">Testing Strategies</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/testing/sanity/index.html">Sanity Tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/faq.html">Frequently Asked Questions</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/glossary.html">Glossary</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/module_utils.html">Ansible Reference: Module Utilities</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/special_variables.html">Special Variables</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/tower.html">Red Hat Ansible Automation Platform</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/automationhub.html">Ansible Automation Hub</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/logging.html">Logging Ansible output</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Roadmaps</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/roadmap/ansible_roadmap_index.html">Ansible Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="https://docs.ansible.com/ansible/latest/roadmap/ansible_core_roadmap_index.html">ansible-core Roadmaps</a></li>
</ul>
<!-- extra nav elements for Ansible beyond RTD Sphinx Theme -->
<!-- changeable widget links to tower - do not change as image controlled by Ansible-->
<div id="sideBanner">
  <br>
  <a href="https://www.ansible.com/docs-left?utm_source=docs">
    <img style="border-width:0px;" src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/ASB-docs-left-rail.webp">
  </a>
  <br><br><br>
</div>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="https://docs.ansible.com/ansible/latest/index.html">Ansible</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="https://docs.ansible.com/ansible/latest/index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="https://docs.ansible.com/ansible/latest/dev_guide/index.html">Developer Guide</a></li>
      <li class="breadcrumb-item active">Conventions, tips, and pitfalls</li>
  <li class="wy-breadcrumbs-aside">
            <!-- Remove main index page as it is no longer editable -->
            
              <a href="https://github.com/ansible/ansible-documentation/edit/devel/docs/docsite/rst/dev_guide/developing_modules_best_practices.rst?description=%23%23%23%23%23%20SUMMARY%0A%3C!---%20Your%20description%20here%20--%3E%0A%0A%0A%23%23%23%23%23%20ISSUE%20TYPE%0A-%20Docs%20Pull%20Request%0A%0A%2Blabel:%20docsite_pr" class="fa fa-github"> Edit on GitHub</a>
            
  </li>
  </ul>
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
  <script>
    function startsWith(str, needle) {
      return str.slice(0, needle.length) == needle
    }
    function startsWithOneOf(str, needles) {
      return needles.some(function (needle) {
        return startsWith(str, needle);
      });
    }
    var banner = '';
      var extra_banner = '';
    /*use extra_banner for when we want something extra, like a survey or Community Day notice */
   /*  var extra_banner =
      '<div id="latest_extra_banner_id" class="admonition important">' +
        '<p style="padding-bottom: 1.2rem;">' +
        'Discuss Ansible in the new <a href="https://forum.ansible.com/t/welcome-to-the-ansible-community/5">Ansible Forum!</a>' +
        '</p>' +
      '</div>';
      */
    // Create a banner if we're not on the official docs site
    if (location.host == "docs.testing.ansible.com") {
      document.write('<div id="testing_banner_id" class="admonition important">' +
                     '<p>This is the testing site for Ansible Documentation. Unless you are reviewing pre-production changes, please visit the <a href="https://docs.ansible.com/ansible/latest/">official documentation website</a>.</p> <p></p>' +
                     '</div>');
    }
    
      // Create a banner
      current_url_path = window.location.pathname;

      var important = false;
      var msg = '<p>';
      if (startsWith(current_url_path, "/ansible-core/")) {
        msg += 'You are reading documentation for Ansible Core, which contains no plugins except for those in ansible.builtin. For documentation of the Ansible package, go to <a href="/ansible/latest">the latest documentation</a>.';
      } else if (startsWithOneOf(current_url_path, ["/ansible/latest/", "/ansible/10/"])) {
        /* temp extra banner to advertise something */
        banner += extra_banner;

        msg += 'This is the <b>latest</b> (stable) Ansible community documentation. For Red Hat Ansible Automation Platform subscriptions, see <a href="https://access.redhat.com/support/policy/updates/ansible-automation-platform">Life Cycle</a> for version details.';
      } else if (startsWith(current_url_path, "/ansible/2.9/")) {
        msg += 'You are reading the latest Red Hat released version of the Ansible documentation. Community users can use this version, or select <b>latest</b> from the version selector to the left for the most recent community version.';
      } else if (startsWith(current_url_path, "/ansible/devel/")) {
        /* temp extra banner to advertise something */
        banner += extra_banner;

        msg += 'You are reading the <b>devel</b> version of the Ansible documentation - this version is not guaranteed stable. Use the version selection to the left if you want the <b>latest</b> (stable) released version.';
      } else {
        msg += 'You are reading an older version of the Ansible documentation. Use the version selection to the left if you want the <b>latest</b> (stable) released version.';
        /* temp extra banner to advertise something - this is for testing*/
        banner += extra_banner;

      }
      msg += '</p>';

      banner += '<div id="banner_id" class="admonition ';
      banner += important ? 'important' : 'caution';
      banner += '">';
      banner += important ? '<br>' : '';
      banner += msg;
      banner += important ? '<br>' : '';
      banner += '</div>';
      document.write(banner);
    
  </script><div id="banner_id" class="admonition caution"><p>This is the <b>latest</b> (stable) Ansible community documentation. For Red Hat Ansible Automation Platform subscriptions, see <a href="https://access.redhat.com/support/policy/updates/ansible-automation-platform">Life Cycle</a> for version details.</p></div>


  
           <div itemprop="articleBody">
             
  <section id="conventions-tips-and-pitfalls">
<span id="module-dev-conventions"></span><span id="developing-modules-best-practices"></span><h1>Conventions, tips, and pitfalls<a class="headerlink" href="#conventions-tips-and-pitfalls" title="Link to this heading"></a></h1>
<nav class="contents local" id="topics">
<p class="topic-title">Topics</p>
<ul class="simple">
<li><p><a class="reference internal" href="#scoping-your-module-s" id="id1">Scoping your module(s)</a></p></li>
<li><p><a class="reference internal" href="#designing-module-interfaces" id="id2">Designing module interfaces</a></p></li>
<li><p><a class="reference internal" href="#general-guidelines-tips" id="id3">General guidelines &amp; tips</a></p></li>
<li><p><a class="reference internal" href="#functions-and-methods" id="id4">Functions and Methods</a></p></li>
<li><p><a class="reference internal" href="#python-tips" id="id5">Python tips</a></p></li>
<li><p><a class="reference internal" href="#importing-and-using-shared-code" id="id6">Importing and using shared code</a></p></li>
<li><p><a class="reference internal" href="#handling-module-failures" id="id7">Handling module failures</a></p></li>
<li><p><a class="reference internal" href="#handling-exceptions-bugs-gracefully" id="id8">Handling exceptions (bugs) gracefully</a></p></li>
<li><p><a class="reference internal" href="#creating-correct-and-informative-module-output" id="id9">Creating correct and informative module output</a></p></li>
<li><p><a class="reference internal" href="#following-ansible-conventions" id="id10">Following Ansible conventions</a></p></li>
<li><p><a class="reference internal" href="#module-security" id="id11">Module Security</a></p></li>
</ul>
</nav>
<p>As you design and develop modules, follow these basic conventions and tips for clean, usable code:</p>
<section id="scoping-your-module-s">
<h2><a class="toc-backref" href="#id1" role="doc-backlink">Scoping your module(s)</a><a class="headerlink" href="#scoping-your-module-s" title="Link to this heading"></a></h2>
<p>Especially if you want to contribute your module(s) to an existing 
Ansible Collection, make sure each module includes enough logic and 
functionality, but not too much. If these guidelines seem confusing, 
consider <a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_modules.html#module-dev-should-you"><span class="std std-ref">whether you really need to write a module</span></a> at all.</p>
<ul class="simple">
<li><p>Each module should have a concise and well-defined functionality. Basically, follow the UNIX philosophy of doing one thing well.</p></li>
<li><p>Do not add <code class="docutils literal notranslate"><span class="pre">get</span></code>, <code class="docutils literal notranslate"><span class="pre">list</span></code> or <code class="docutils literal notranslate"><span class="pre">info</span></code> state options to an existing module - create a new <code class="docutils literal notranslate"><span class="pre">_info</span></code> or <code class="docutils literal notranslate"><span class="pre">_facts</span></code> module.</p></li>
<li><p>Modules should not require that a user know all the underlying 
options of an API/tool to be used. For example, if the legal values for a
 required module option cannot be documented, the module does not belong
 in Ansible Core.</p></li>
<li><p>Modules should encompass much of the logic for interacting with a
 resource. A lightweight wrapper around a complex API forces users to 
offload too much logic into their playbooks. If you want to connect 
Ansible to a complex API, <a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_in_groups.html#developing-modules-in-groups"><span class="std std-ref">create multiple modules</span></a> that interact with smaller individual pieces of the API.</p></li>
<li><p>Avoid creating a module that does the work of other modules; this
 leads to code duplication and divergence, and makes things less 
uniform, unpredictable and harder to maintain. Modules should be the 
building blocks. If you are asking ‘how can I have a module execute 
other modules’ … you want to write a role.</p></li>
</ul>
</section>
<section id="designing-module-interfaces">
<h2><a class="toc-backref" href="#id2" role="doc-backlink">Designing module interfaces</a><a class="headerlink" href="#designing-module-interfaces" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>If your module is addressing an object, the option for that object should be called <code class="docutils literal notranslate"><span class="pre">name</span></code> whenever possible, or accept <code class="docutils literal notranslate"><span class="pre">name</span></code> as an alias.</p></li>
<li><p>Modules accepting boolean status should accept <code class="docutils literal notranslate"><span class="pre">yes</span></code>, <code class="docutils literal notranslate"><span class="pre">no</span></code>, <code class="docutils literal notranslate"><span class="pre">true</span></code>, <code class="docutils literal notranslate"><span class="pre">false</span></code>, or anything else a user may likely throw at them. The AnsibleModule common code supports this with <code class="docutils literal notranslate"><span class="pre">type='bool'</span></code>.</p></li>
<li><p>Avoid <code class="docutils literal notranslate"><span class="pre">action</span></code>/<code class="docutils literal notranslate"><span class="pre">command</span></code>, they are imperative and not declarative, there are other ways to express the same thing.</p></li>
</ul>
</section>
<section id="general-guidelines-tips">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">General guidelines &amp; tips</a><a class="headerlink" href="#general-guidelines-tips" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Each module should be self-contained in one file, so it can be auto-transferred by <code class="docutils literal notranslate"><span class="pre">ansible-core</span></code>.</p></li>
<li><p>Module name MUST use underscores instead of hyphens or spaces as a word separator. Using hyphens and spaces will prevent <code class="docutils literal notranslate"><span class="pre">ansible-core</span></code> from importing your module.</p></li>
<li><p>Always use the <code class="docutils literal notranslate"><span class="pre">hacking/test-module.py</span></code> script when developing modules - it will warn you about common pitfalls.</p></li>
<li><p>If you have a local module that returns information specific to your installations, a good name for this module is <code class="docutils literal notranslate"><span class="pre">site_info</span></code>.</p></li>
<li><p>Eliminate or minimize dependencies. If your module has 
dependencies, document them at the top of the module file and raise JSON
 error messages when dependency import fails.</p></li>
<li><p>Don’t write to files directly; use a temporary file and then use the <code class="docutils literal notranslate"><span class="pre">atomic_move</span></code> function from <code class="docutils literal notranslate"><span class="pre">ansible.module_utils.basic</span></code>
 to move the updated temporary file into place. This prevents data 
corruption and ensures that the correct context for the file is kept.</p></li>
<li><p>Avoid creating caches. Ansible is designed without a central 
server or authority, so you cannot guarantee it will not run with 
different permissions, options or locations. If you need a central 
authority, have it on top of Ansible (for example, using bastion/cm/ci 
server, AWX, or the Red Hat Ansible Automation Platform); do not try to 
build it into modules.</p></li>
<li><p>If you package your module(s) in an RPM, install the modules on the control machine in <code class="docutils literal notranslate"><span class="pre">/usr/share/ansible</span></code>. Packaging modules in RPMs is optional.</p></li>
</ul>
</section>
<section id="functions-and-methods">
<h2><a class="toc-backref" href="#id4" role="doc-backlink">Functions and Methods</a><a class="headerlink" href="#functions-and-methods" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Each function should be concise and should describe a meaningful amount of work.</p></li>
<li><p>“Don’t repeat yourself” is generally a good philosophy.</p></li>
<li><p>Function names should use underscores: <code class="docutils literal notranslate"><span class="pre">my_function_name</span></code>.</p></li>
<li><p>The name of each function should describe what the function does.</p></li>
<li><p>Each function should have a docstring.</p></li>
<li><p>If your code is too nested, that’s usually a sign the loop body 
could benefit from being a function. Parts of our existing code are not 
the best examples of this at times.</p></li>
</ul>
</section>
<section id="python-tips">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Python tips</a><a class="headerlink" href="#python-tips" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Include a <code class="docutils literal notranslate"><span class="pre">main</span></code> function that wraps the normal execution.</p></li>
<li><p>Call your <code class="docutils literal notranslate"><span class="pre">main</span></code> function from a conditional so you can import it into unit tests - for example:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell0"><span></span><span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s1">'__main__'</span><span class="p">:</span>
    <span class="n">main</span><span class="p">()</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell0">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
</section>
<section id="importing-and-using-shared-code">
<span id="shared-code"></span><h2><a class="toc-backref" href="#id6" role="doc-backlink">Importing and using shared code</a><a class="headerlink" href="#importing-and-using-shared-code" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Use shared code whenever possible - don’t reinvent the wheel. Ansible offers the <code class="docutils literal notranslate"><span class="pre">AnsibleModule</span></code> common Python code, plus <a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_module_utilities.html#developing-module-utilities"><span class="std std-ref">utilities</span></a> for many common use cases and patterns. You can also create documentation fragments for docs that apply to multiple modules.</p></li>
<li><p>Import <code class="docutils literal notranslate"><span class="pre">ansible.module_utils</span></code> code in the same place as you import other libraries.</p></li>
<li><p>Do NOT use wildcards (*) for importing other python modules; instead, list the function(s) you are importing (for example, <code class="docutils literal notranslate"><span class="pre">from</span> <span class="pre">some.other_python_module.basic</span> <span class="pre">import</span> <span class="pre">otherFunction</span></code>).</p></li>
<li><p>Import custom packages in <code class="docutils literal notranslate"><span class="pre">try</span></code>/<code class="docutils literal notranslate"><span class="pre">except</span></code>, capture any import errors, and handle them with <code class="docutils literal notranslate"><span class="pre">fail_json()</span></code> in <code class="docutils literal notranslate"><span class="pre">main()</span></code>. For example:</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell1"><span></span><span class="kn">import</span> <span class="nn">traceback</span>

<span class="kn">from</span> <span class="nn">ansible.module_utils.basic</span> <span class="kn">import</span> <span class="n">missing_required_lib</span>

<span class="n">LIB_IMP_ERR</span> <span class="o">=</span> <span class="kc">None</span>
<span class="k">try</span><span class="p">:</span>
    <span class="kn">import</span> <span class="nn">foo</span>
    <span class="n">HAS_LIB</span> <span class="o">=</span> <span class="kc">True</span>
<span class="k">except</span><span class="p">:</span>
    <span class="n">HAS_LIB</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">LIB_IMP_ERR</span> <span class="o">=</span> <span class="n">traceback</span><span class="o">.</span><span class="n">format_exc</span><span class="p">()</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell1">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>Then in <code class="docutils literal notranslate"><span class="pre">main()</span></code>, just after the argspec, do</p>
<div class="highlight-python notranslate"><div class="highlight"><pre id="codecell2"><span></span><span class="k">if</span> <span class="ow">not</span> <span class="n">HAS_LIB</span><span class="p">:</span>
    <span class="n">module</span><span class="o">.</span><span class="n">fail_json</span><span class="p">(</span><span class="n">msg</span><span class="o">=</span><span class="n">missing_required_lib</span><span class="p">(</span><span class="s2">"foo"</span><span class="p">),</span>
                     <span class="n">exception</span><span class="o">=</span><span class="n">LIB_IMP_ERR</span><span class="p">)</span>
</pre><button class="copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#codecell2">
      <svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copy" width="44" height="44" viewBox="0 0 24 24" stroke-width="1.5" stroke="#000000" fill="none" stroke-linecap="round" stroke-linejoin="round">
  <title>Copy to clipboard</title>
  <path stroke="none" d="M0 0h24v24H0z" fill="none"></path>
  <rect x="8" y="8" width="12" height="12" rx="2"></rect>
  <path d="M16 8v-2a2 2 0 0 0 -2 -2h-8a2 2 0 0 0 -2 2v8a2 2 0 0 0 2 2h2"></path>
</svg>
    </button></div>
</div>
<p>And document the dependency in the <code class="docutils literal notranslate"><span class="pre">requirements</span></code> section of your module’s <a class="reference internal" href="https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_documenting.html#documentation-block"><span class="std std-ref">DOCUMENTATION block</span></a>.</p>
</section>
<section id="handling-module-failures">
<span id="module-failures"></span><h2><a class="toc-backref" href="#id7" role="doc-backlink">Handling module failures</a><a class="headerlink" href="#handling-module-failures" title="Link to this heading"></a></h2>
<p>When your module fails, help users understand what went wrong. If you are using the <code class="docutils literal notranslate"><span class="pre">AnsibleModule</span></code> common Python code, the <code class="docutils literal notranslate"><span class="pre">failed</span></code> element will be included for you automatically when you call <code class="docutils literal notranslate"><span class="pre">fail_json</span></code>. For polite module failure behavior:</p>
<ul class="simple">
<li><p>Include a key of <code class="docutils literal notranslate"><span class="pre">failed</span></code> along with a string explanation in <code class="docutils literal notranslate"><span class="pre">msg</span></code>. If you don’t do this, Ansible will use standard return codes: 0=success and non-zero=failure.</p></li>
<li><p>Don’t raise a traceback (stacktrace). Ansible can deal with 
stacktraces and automatically converts anything unparsable into a failed
 result, but raising a stacktrace on module failure is not 
user-friendly.</p></li>
<li><p>Do not use <code class="docutils literal notranslate"><span class="pre">sys.exit()</span></code>. Use <code class="docutils literal notranslate"><span class="pre">fail_json()</span></code> from the module object.</p></li>
</ul>
</section>
<section id="handling-exceptions-bugs-gracefully">
<h2><a class="toc-backref" href="#id8" role="doc-backlink">Handling exceptions (bugs) gracefully</a><a class="headerlink" href="#handling-exceptions-bugs-gracefully" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Validate upfront–fail fast and return useful and clear error messages.</p></li>
<li><p>Use defensive programming–use a simple design for your module, handle errors gracefully, and avoid direct stacktraces.</p></li>
<li><p>Fail predictably–if we must fail, do it in a way that is the most
 expected. Either mimic the underlying tool or the general way the 
system works.</p></li>
<li><p>Give out a useful message on what you were doing and add exception messages to that.</p></li>
<li><p>Avoid catchall exceptions, they are not very useful unless the 
underlying API gives very good error messages pertaining the attempted 
action.</p></li>
</ul>
</section>
<section id="creating-correct-and-informative-module-output">
<span id="module-output"></span><h2><a class="toc-backref" href="#id9" role="doc-backlink">Creating correct and informative module output</a><a class="headerlink" href="#creating-correct-and-informative-module-output" title="Link to this heading"></a></h2>
<p>Modules must output valid JSON only. Follow these guidelines for creating correct, useful module output:</p>
<ul class="simple">
<li><p>Module return data must be encoded as strict UTF-8. Modules that 
cannot return UTF-8 encoded data should return the data encoded by 
something such as base64. Optionally modules can make the determination 
if they can encode as UTF-8 and utilize <code class="docutils literal notranslate"><span class="pre">errors='replace'</span></code> to replace non UTF-8 characters making the return values lossy.</p></li>
<li><p>Make your top-level return type a hash (dictionary).</p></li>
<li><p>Nest complex return values within the top-level hash.</p></li>
<li><p>Incorporate any lists or simple scalar values within the top-level return hash.</p></li>
<li><p>Do not send module output to standard error, because the system 
will merge standard out with standard error and prevent the JSON from 
parsing.</p></li>
<li><p>Capture standard error and return it as a variable in the JSON on standard out. This is how the command module is implemented.</p></li>
<li><p>Never do <code class="docutils literal notranslate"><span class="pre">print("some</span> <span class="pre">status</span> <span class="pre">message")</span></code> in a module, because it will not produce valid JSON output.</p></li>
<li><p>Always return useful data, even when there is no change.</p></li>
<li><p>Be consistent about returns (some modules are too random), unless it is detrimental to the state/action.</p></li>
<li><p>Make returns reusable–most of the time you don’t want to read it, but you do want to process it and re-purpose it.</p></li>
<li><p>Return diff if in diff mode. This is not required for all 
modules, as it won’t make sense for certain ones, but please include it 
when applicable.</p></li>
<li><p>Enable your return values to be serialized as JSON with Python’s standard <a class="reference external" href="https://docs.python.org/3/library/json.html">JSON encoder and decoder</a> library. Basic python types (strings, int, dicts, lists, and so on) are serializable.</p></li>
<li><p>Do not return an object using exit_json(). Instead, convert the 
fields you need from the object into the fields of a dictionary and 
return the dictionary.</p></li>
<li><p>Results from many hosts will be aggregated at once, so your 
module should return only relevant output. Returning the entire contents
 of a log file is generally bad form.</p></li>
</ul>
<p>If a module returns stderr or otherwise fails to produce valid JSON, 
the actual output will still be shown in Ansible, but the command will 
not succeed.</p>
</section>
<section id="following-ansible-conventions">
<span id="module-conventions"></span><h2><a class="toc-backref" href="#id10" role="doc-backlink">Following Ansible conventions</a><a class="headerlink" href="#following-ansible-conventions" title="Link to this heading"></a></h2>
<p>Ansible conventions offer a predictable user interface across all 
modules, playbooks, and roles. To follow Ansible conventions in your 
module development:</p>
<ul class="simple">
<li><p>Use consistent names across modules (yes, we have many legacy deviations - don’t make the problem worse!).</p></li>
<li><p>Use consistent options (arguments) within your module(s).</p></li>
<li><p>Do not use ‘message’ or ‘syslog_facility’ as an option name, because this is used internally by Ansible.</p></li>
<li><p>Normalize options with other modules - if Ansible and the API 
your module connects to use different names for the same option, add 
aliases to your options so the user can choose which names to use in 
tasks and playbooks.</p></li>
<li><p>Return facts from <code class="docutils literal notranslate"><span class="pre">*_facts</span></code> modules in the <code class="docutils literal notranslate"><span class="pre">ansible_facts</span></code> field of the <a class="reference internal" href="https://docs.ansible.com/ansible/latest/reference_appendices/common_return_values.html#common-return-values"><span class="std std-ref">result dictionary</span></a> so other modules can access them.</p></li>
<li><p>Implement <code class="docutils literal notranslate"><span class="pre">check_mode</span></code> in all <code class="docutils literal notranslate"><span class="pre">*_info</span></code> and <code class="docutils literal notranslate"><span class="pre">*_facts</span></code> modules. Playbooks which conditionalize based on fact information will only conditionalize correctly in <code class="docutils literal notranslate"><span class="pre">check_mode</span></code> if the facts are returned in <code class="docutils literal notranslate"><span class="pre">check_mode</span></code>. Usually you can add <code class="docutils literal notranslate"><span class="pre">supports_check_mode=True</span></code> when instantiating <code class="docutils literal notranslate"><span class="pre">AnsibleModule</span></code>.</p></li>
<li><p>Use module-specific environment variables. For example, if you use the helpers in <code class="docutils literal notranslate"><span class="pre">module_utils.api</span></code> for basic authentication with <code class="docutils literal notranslate"><span class="pre">module_utils.urls.fetch_url()</span></code> and you fall back on environment variables for default values, use a module-specific environment variable like <code class="code docutils literal notranslate"><span class="pre">API_&lt;MODULENAME&gt;_USERNAME</span></code> to avoid conflicts between modules.</p></li>
<li><p>Keep module options simple and focused - if you’re loading a lot 
of choices/states on an existing option, consider adding a new, simple 
option instead.</p></li>
<li><p>Keep options small when possible. Passing a large data structure 
to an option might save us a few tasks, but it adds a complex 
requirement that we cannot easily validate before passing on to the 
module.</p></li>
<li><p>If you want to pass complex data to an option, write an expert 
module that allows this, along with several smaller modules that provide
 a more ‘atomic’ operation against the underlying APIs and services. 
Complex operations require complex data. Let the user choose whether to 
reflect that complexity in tasks and plays or in  vars files.</p></li>
<li><p>Implement declarative operations (not CRUD) so the user can ignore existing state and focus on final state. For example, use <code class="docutils literal notranslate"><span class="pre">started/stopped</span></code>, <code class="docutils literal notranslate"><span class="pre">present/absent</span></code>.</p></li>
<li><p>Strive for a consistent final state (aka idempotency). If running
 your module twice in a row against the same system would result in two 
different states, see if you can redesign or rewrite to achieve 
consistent final state. If you can’t, document the behavior and the 
reasons for it.</p></li>
<li><p>Provide consistent return values within the standard Ansible 
return structure, even if NA/None are used for keys normally returned 
under other options.</p></li>
</ul>
</section>
<section id="module-security">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Module Security</a><a class="headerlink" href="#module-security" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Avoid passing user input from the shell.</p></li>
<li><p>Always check return codes.</p></li>
<li><p>You must always use <code class="docutils literal notranslate"><span class="pre">module.run_command</span></code>, not <code class="docutils literal notranslate"><span class="pre">subprocess</span></code> or <code class="docutils literal notranslate"><span class="pre">Popen</span></code> or <code class="docutils literal notranslate"><span class="pre">os.system</span></code>.</p></li>
<li><p>Avoid using the shell unless absolutely necessary.</p></li>
<li><p>If you must use the shell, you must pass <code class="docutils literal notranslate"><span class="pre">use_unsafe_shell=True</span></code> to <code class="docutils literal notranslate"><span class="pre">module.run_command</span></code>.</p></li>
<li><p>If any variables in your module can come from user input with <code class="docutils literal notranslate"><span class="pre">use_unsafe_shell=True</span></code>, you must wrap them with <code class="docutils literal notranslate"><span class="pre">pipes.quote(x)</span></code>.</p></li>
<li><p>When fetching URLs, use <code class="docutils literal notranslate"><span class="pre">fetch_url</span></code> or <code class="docutils literal notranslate"><span class="pre">open_url</span></code> from <code class="docutils literal notranslate"><span class="pre">ansible.module_utils.urls</span></code>. Do not use <code class="docutils literal notranslate"><span class="pre">urllib2</span></code>, which does not natively verify TLS certificates and so is insecure for https.</p></li>
<li><p>Sensitive values marked with <code class="docutils literal notranslate"><span class="pre">no_log=True</span></code>
 will automatically have that value stripped from module return values. 
If your module could return these sensitive values as part of a 
dictionary key name, you should call the <code class="docutils literal notranslate"><span class="pre">ansible.module_utils.basic.sanitize_keys()</span></code> function to strip the values from the keys. See the <code class="docutils literal notranslate"><span class="pre">uri</span></code> module for an example.</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          

<footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="https://docs.ansible.com/ansible/latest/dev_guide/developing_modules_checklist.html" class="btn btn-neutral float-left" title="Contributing your module to an existing Ansible collection" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="https://docs.ansible.com/ansible/latest/dev_guide/developing_python_3.html" class="btn btn-neutral float-right" title="Ansible and Python 3" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr>

  <div role="contentinfo">
    <p>© Copyright Ansible project contributors.
      <span class="lastupdated">Last updated on Aug 29, 2024.
      </span></p>
  </div>

  
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script><!-- extra footer elements for Ansible beyond RTD Sphinx Theme -->
<!-- begin analytics -->
<script>
var _hsq = _hsq || [];
_hsq.push(["setContentType", "standard-page"]);
      (function(d,s,i,r) {
      if (d.getElementById(i)){return;}
      var n = d.createElement(s),e = document.getElementsByTagName(s)[0];
      n.id=i;n.src = 'https://js.hs-analytics.net/analytics/'+(Math.ceil(new Date()/r)*r)+'/330046.js';
      e.parentNode.insertBefore(n, e);
      })(document, "script", "hs-analytics",300000);
</script>
<!-- end analytics -->
<script>
if (("undefined" !== typeof _satellite) && ("function" === typeof _satellite.pageBottom)) {
  _satellite.pageBottom();
}
</script>


<script>_satellite["_runScript1"](function(event, target, Promise) {
if(void 0!==_sdi.util){var pageHeight=document.body.scrollHeight,viewportHeight=window.innerHeight,initialPercent=viewportHeight/pageHeight,maxInterval=0;initialPercent=initialPercent>1?100:Math.round(100*initialPercent);var maxScroll=Math.floor(initialPercent);window._sdi.util.setCookie("sat_ppv",maxScroll),window.onscroll=function(){var i=window.pageYOffset/(document.body.scrollHeight-window.innerHeight)*100;i>maxScroll&&(maxScroll=Math.floor(i)),window._sdi.util.setCookie("sat_ppv",maxScroll)}}
});</script><script>_satellite["_runScript2"](function(event, target, Promise) {
void 0!==_sdi.util&&(window._sdi=window._sdi||{},window._sdi.addEventHandler=window.addEventListener?function(e,t,i){e.addEventListener(t,i,!1)}:function(e,t,i){e.attachEvent("on"+t,i)},window._sdi.addEventHandler(window,"message",(function(e){var t={},i=0;(-1!==e.origin.indexOf("loop=1")||e.srcElement&&e.srcElement.playerOptions&&1==e.srcElement.playerOptions.loop)&&(i=1);var a=0;if(e.srcElement&&e.srcElement.playerOptions&&1==e.srcElement.playerOptions.autoplay&&(a=1),e.origin.match(/youtube\.com/)&&"undefined"!=typeof JSON&&!i&&!a){t=JSON.parse(e.data);var d=window._sdi.yt.videos;if("infoDelivery"==t.event){var o,n={};for(var s in t.info.videoData&&((n=d[o=t.info.videoData.video_id]||{}).info=t.info,n.id=t.id,d[o]=n),window._sdi.yt.videos){(c=window._sdi.yt.videos[s]).id==t.id&&(n=c)}var r=window._sdi.yt.sc||{};n.info&&(Math.abs(t.info.currentTime-n.info.currentTime)>1.5&&!0===r.track&&(r.s().Media.stop(n.info.videoData.title,n.info.currentTime),"paused"!=n.state&&r.s().Media.play(n.info.videoData.title,t.info.currentTime)),n.info.currentTime=t.info.currentTime),2==t.info.playerState&&(r.s().Media.stop(n.info.videoData.title,n.info.currentTime),n.state="paused"),1==t.info.playerState&&(n.started?!0===r.track&&r.s().Media.play(n.info.videoData.title,n.info.currentTime):(n.started=!0,!0===r.track&&(r.s().Media.open(n.info.videoData.title,n.info.duration,"youtube"),r.s().Media.play(n.info.videoData.title,n.info.currentTime))),n.state="playing"),3==t.info.playerState&&n.started&&(!0===r.track&&r.s().Media.stop(n.info.videoData.title,n.info.currentTime),n.state="paused"),0===t.info.playerState&&(!0===r.track&&(r.s().Media.stop(n.info.videoData.title,n.info.currentTime),r.s().Media.close(n.info.videoData.title)),n.state="completed")}else if("onStateChange"==t.event){for(var s in window._sdi.yt.videos){var c;(c=window._sdi.yt.videos[s]).id==t.id&&(n=c)}r=window._sdi.yt.sc||{};1==t.info&&(n.started?!0===r.track&&r.s().Media.play(n.info.videoData.title,n.info.currentTime):(n.started=!0,!0===r.track&&(r.s().Media.open(n.info.videoData.title,n.info.duration,"youtube"),"paused"!=n.state&&r.s().Media.play(n.info.videoData.title,t.info.currentTime))),n.state="playing"),2==t.info&&(!0===r.track&&r.s().Media.stop(n.info.videoData.title,n.info.currentTime),n.state="paused"),3==t.info&&n.started&&(!0===r.track&&r.s().Media.stop(n.info.videoData.title,n.info.currentTime),n.state="paused"),0===t.info&&(!0===r.track&&(r.s().Media.stop(n.info.videoData.title,n.info.currentTime),r.s().Media.close(n.info.videoData.title)),n.state="completed")}}})),window._sdi.loadScript=function(e,t){var i=document.createElement("script");i.type="text/javascript",t&&"function"==typeof t&&(i.readyState?i.onreadystatechange=function(){"loaded"!==i.readyState&&"complete"!==i.readyState||(i.onreadystatechange=null,t())}:i.onload=function(){t()}),i.src=e,document.getElementsByTagName("head")[0].appendChild(i)},window._sdi.yt={stages:{},players:{},sc:{track:!0,s:function(){return s_gi(_satellite.getVar("rsid"))}},init:function(){for(var e=document.getElementsByTagName("script"),t=!1,i=(window._sdi.yt.videos,0);i<e.length;i++){(e[i].src||"").match(/youtube\.com\/iframe_api/)&&(t=!0)}!1===t?window._sdi.loadScript("//www.youtube.com/iframe_api",(function(){window._sdi.yt.ready("api")})):window._sdi.yt.ready("api")},ready:function(e){window._sdi.yt.stages[e]=!0,window._sdi.yt.stages.dom&&window._sdi.yt.stages.api&&window._sdi.yt.checkIframes()},checkIframes:function(){var e=window._sdi.yt.videos,t=1e3,i=0;document.querySelectorAll('iframe[src*="youtube"]').forEach((function(a){if("true"!=a.dataset.sdiyt){if(-1!=a.src.indexOf("loop=1"))var d=null;else{var o;d=a.src.match(/h?t?t?p?s?\:?\/\/www\.youtube(-nocookie)?\.com\/embed\/([\w-]{11})(?:\?.*)?/)}if(d){o=d.length>2?d[2]:"",a.id||(a.id=o+i,i++);var n=!1;if(!a.src.match(/origin/)&&document.location.protocol,a.src.match(/enablejsapi=1/)||(a.src+=(a.src.indexOf("?")>-1?"&":"?")+"enablejsapi=1",n=!0),void 0!==_sdi.util&&n){var s=this.cloneNode(!0);s.src=a.src,s.id=a.id,this.replaceWith(s)}else"undefined"!=typeof YT&&void 0!==YT.get?(ready=!0,e[o]={},!YT.get(a.id)||void 0===YT.get(a.id).v&&void 0!==YT.get(a.id).v.videoId?(e[o].player=new YT.Player(a.id,{events:{onReady:function(){},onStateChange:function(){},videoId:a.id}}),"true"!==a.getAttribute("data-sdiyt")&&a.setAttribute("data-sdiyt","true")):"true"!==a.getAttribute("data-sdiyt")&&a.setAttribute("data-sdiyt","true")):t=100}}})),setTimeout((function(){window._sdi.yt.checkIframes()}),t)},videos:{}},void 0!==window._sdi&&void 0!==window._sdi.addEventHandler&&window._sdi.addEventHandler(window,"load",(function(){document.querySelectorAll('iframe[src*="youtube"]').length>=1?(window._sdi.yt.init(),window._sdi.yt.ready("dom")):window._sdi.ytinterval=setInterval((function(){document.querySelectorAll('iframe[src*="youtube"]').length>=1&&(window._sdi.yt.init(),window._sdi.yt.ready("dom"),clearInterval(window._sdi.ytinterval))}),500)})));
});</script><script>_satellite["_runScript3"](function(event, target, Promise) {
window._sdi=window._sdi||{},window._sdi.dtm=window._sdi.dtm||{},window._sdi.dtm.video=window._sdi.dtm.video||{},_sdi.dtm.video.wistia={sc:{track:!0,s:function(){if(_sdi.util.getVar("window.s_gi")){if(void 0!==_satellite.getVar("rsid"))return s_gi(_satellite.getVar("rsid"));_satellite.logger.log("WISTIA Tracking:No RSID for s.Media: Wistia Tracking",5)}}},vids:[],timesPolled:0,pollToBind:function(){_satellite.logger.log("WISTIA Tracking: Polling for remaing video binding"),_sdi.dtm.video.wistia.timesPolled<30&&setTimeout((function(){_sdi.dtm.video.wistia.timesPolled++,_sdi.dtm.video.wistia.bindEvents()}),1e3)},bindEvents:function(){ws=_sdi.dtm.video.wistia,sc=ws.sc,s=sc.s,poll=!1,s().Media.playerName="wistia",s().Media.autoTrack=!1;for(var i=0;i<_sdi.dtm.video.wistia.vids.length;i++){var e=_sdi.dtm.video.wistia.vids[i],d=e.name(),t=e.duration();""!=d?void 0===e.adobeAnalyicsTrackingApplied?(_satellite.logger.log("WISTIA Tracking: Binding liteners to Wistia video named: "+d),void 0!==s()&&void 0!==s().Media&&(!0===sc.track&&(_satellite.logger.log("WISTIA Tracking: the video opened: "+d),s().Media.open(d,t,"wistia")),e.bind("play",(function(){void 0!==s().Media.list[this.name()]&&"object"!=typeof s().Media.list[this.name()]&&(_satellite.logger.log("WISTIA Tracking: the video opened: "+this.name()),s().Media.open(this.name(),this.duration(),"wistia")),_satellite.logger.log("WISTIA Tracking: the video played: "+this.name()),s().Media.play(this.name(),this.time())})),e.bind("pause",(function(){_satellite.logger.log("WISTIA Tracking: the video stoped: "+this.name()),s().Media.stop(this.name(),this.time())})),e.bind("seek",(function(i){_satellite.logger.log("WISTIA Tracking: the video seeked to "+i),s().Media.stop(this.name(),this.time()),s().Media.play(this.name(),i)})),e.bind("end",(function(){_satellite.logger.log("WISTIA Tracking: the video ended: "+this.name()),s().Media.stop(this.name(),this.time()),s().Media.close(this.name())})),e.adobeAnalyicsTrackingApplied=!0)):_satellite.logger.log("WISTIA Tracking: Liteners already bound to Wistia video named: "+d):poll=!0}poll&&_sdi.dtm.video.wistia.timesPolled<30&&_sdi.dtm.video.wistia.pollToBind()},findVideos:function(){_satellite.logger.log("WISTIA Tracking: Looking for videos"),window._wq=window._wq||[],_wq.push({id:"_all",onReady:function(i){_satellite.logger.log("WISTIA Tracking: Found "+i.name()+" videos"),_sdi.dtm.video.wistia.vids.push(i),_sdi.dtm.video.wistia.bindEvents()}})},init:function(){void 0!==window.Wistia?(_sdi.dtm.video.wistia.findVideos(),_sdi.dtm.video.wistia.vids.length>0&&_sdi.dtm.video.wistia.bindEvents()):_satellite.logger.log("WISTIA Tracking: No API detected")}},_sdi.dtm.video.wistia.init();
});</script><script>_satellite["_runScript4"](function(event, target, Promise) {
function addDataMapFromActions(t,e){return e&&e.dataMap&&(t=new Map([...t,...e.dataMap])),t}function extractAnalyticAttributesFromEvent(t){const e=new Map;for(const a of t.composedPath().reverse())if(a.hasAttributes?.())for(const i of a.attributes){if(isAnalyticsEntry(i.name)){let t=lowercaseFirst(i.name.replace("data-analytics-",""));t=normalizeKey(t),setKeyValueToMap(e,t,i.value)}if("data-analytics-data-map"===i.name){const[a,n]=i.value.split(":")??[];if(a===t.type){const a=n.split(",");for(let[i,n]of a.map((t=>t.split("="))))n?e.set(i,n):e.set(i,t[i])}}}return e}function normalizeKey(t){return Object.prototype.hasOwnProperty.call(ATTRIBUTES__MAP,t)&&("region"!==t&&_satellite.logger.warn("Data analytics "+t+" attribute is incorrect. Please review the spec and fix."),t=ATTRIBUTES__MAP[t]),t}function setKeyValueToMap(t,e,a){return t.has(e)?t.set(e,`${t.get(e)}|${a}`):t.set(e,a),t}function mergeSourceToMapFromQueue(t,e,a,i){if(a&&i){const n=t.get(i);n&&(t.set(i,{...n,...e,attributes:new Map([...n.attributes,...e.attributes]),clicked:e.clicked||n.clicked}),t.delete(a))}}const EVENTS=Object.freeze({PFE_NAV_EXPAND:"pfe-navigation:expanded-item",PFE_NAV_COLLAPSE:"pfe-navigation:collapsed-item",PFE_ACCORDION_CHANGE:"pfe-accordion:change",PFE_TABS_SHOWN:"pfe-tabs:shown-tab",RH_TAB_EXPAND:"tab-expand"});class MessageEvent extends Event{constructor(t){super("message"),this.detail={...this.detail,...t}}}class AnalyticsManager extends EventTarget{constructor(){super(),this._actions=new Map,this._messageQueue=new Map,this._listners=new Set,this._eventListenerHandler=this.eventListenerHandler.bind(this),this.registerEventListener("click"),this.scanEventMaps()}scanEventMaps(){for(const t of document.querySelectorAll("[data-analytics-event-map]")){const[e]=t.getAttribute("data-analytics-event-map")?.split?.(":")??[];e&&this.registerEventListener(e)}}registerEventListener(t,e={},a=document){this._listners.has(t)||(a.addEventListener(t,this._eventListenerHandler),this._actions.set(t,e),this._listners.add(t))}eventListenerHandler(t){const e=findRootElement(t);if(!e)return;if(this._messageQueue.has(t.type))return;let a=new Map;a=addDataMapFromActions(a,this._actions.get(t.type)),a=new Map([...a,...extractAnalyticAttributesFromEvent(t)]),a=addAttributes(e,a),this._messageQueue.set(t.type,{type:t.type,tagName:t.target.tagName,attributes:a,rootElement:e,eventDetail:"object"==typeof t.detail&&null!==t.detail?t.detail:{},track:this._actions.get(t.type).track,clicked:"click"===t.type}),requestAnimationFrame((()=>{if(this._messageQueue.size>0){const e=new Map(this._messageQueue);this._messageQueue=new Map;for(const[t,a]of e){const[t,i]=a.attributes?.get?.("data-analytics-event-map")?.split(":")??[];mergeSourceToMapFromQueue(e,a,t,i)}for(const[a,i]of e){const a=t.type,n=this._actions?.get?.(t.type)?.merge;mergeSourceToMapFromQueue(e,i,a,n)}for(let[t,a]of e)this.dispatchEvent(new MessageEvent({...a,eventMapped:!0}))}}))}}const analyticsManager=new AnalyticsManager;analyticsManager.registerEventListener(EVENTS.PFE_NAV_EXPAND,{merge:"click",dataMap:new Map([["event","Mega Menu Expanded"]])}),analyticsManager.registerEventListener(EVENTS.PFE_NAV_COLLAPSE,{merge:"click",dataMap:new Map([["event","Mega Menu Collapsed"]]),track:!1});const tabActions={merge:"click",dataMap:new Map([["event","Tab Link Clicked"],["isTab",!0]])};analyticsManager.registerEventListener(EVENTS.PFE_ACCORDION_CHANGE,tabActions),analyticsManager.registerEventListener(EVENTS.PFE_TABS_SHOWN,tabActions),analyticsManager.addEventListener("message",(t=>{if(t instanceof MessageEvent){const{eventMapped:a}=t.detail;if(a){const{attributes:a,rootElement:i,track:n,clicked:s}=t.detail;if(!1===n||!1===s)return;var e=buildDataObject(i,a);e.event&&pushEvent(e)}}}));var dataLayerName="appEventData",reservedAttributes=["event"],downloadExtensions=["doc","docx","eps","epub","jpg","png","svg","xls","ppt","pptx","pdf","xlsx","tab","csv","zip","txt","vsd","vxd","xml","js","css","rar","exe","wma","mov","avi","wmv","mp3","wav","m4v"],addAttributes=function(t,e){let a=!1,i=[];if(("Tab Link Clicked"!==e.get("event")||!e.has("tabHref"))&&(isTab(t)||e.get("isTab"))){a=!0,e.set("event","Tab Link Clicked");let n=t.getAttribute("href")||getLinkText(t)||"";n=n.trim(),e.set("tabHref",n),i.push("isTab")}if(!e.has("isJavascript")&&isJavascript(t)&&(a=!0,e.set("isJavascript",!0),i.push("isJavascript")),e.has("isDownload")&&e.has("fileName")||!isDownload(t)||(a=!0,e.set("isDownload",!0).set("fileName",t.href.split("/").pop()),i.push("isDownload")),e.has("isCrossPropertyDomain")&&e.has("linkTypeName")||!isCrossPropertyDomain(t)||(a=!0,e.set("isCrossPropertyDomain",!0).set("linkTypeName","cross property link"),i.push("isCrossPropertyDomain")),e.has("isCta")&&e.has("linkTypeName")||!isCta(t)||(a=!0,e.set("isCta",!0).set("linkTypeName","cta link"),i.push("isCta")),!e.has("isFooter")&&isFooter(t)&&(a=!0,e.set("isFooter",!0),i.push("isFooter")),!e.has("isInternalCampaign")&&isInternalCampaign(t)&&(a=!0,e.set("isInternalCampaign",!0),i.push("isInternalCampaign")),!e.has("isPromoSection")&&isPromoSection(t)&&(a=!0,e.set("isPromoSection",!0),i.push("isPromoSection")),(!e.has("isSearchContainer")||void 0===!e.has("linkTypeName"))&&isSearchContainer(t)){a=!0;let n=parseInt(t.getAttribute("data-render-position")||0)+1;e.set("isSearchContainer",!0).set("linkTypeName","search result click").set("searchQuery",_sdi.util.getQueryParam("search")).set("searchResultNum",n),i.push("isSearchContainer")}return e.has("isGemini")&&e.has("geminiEvalId")&&e.has("geminiOfferId")||!isGemini(t)||(a=!0,e.set("isGemini",!0).set("geminiEvalId",t.getAttribute("data-rh-gemini-evaluation-id")).set("geminiOfferId",t.getAttribute("data-rh-gemini-offer-id")),i.push("isGemini")),e.has("isExitLink")&&e.has("linkTypeName")||!isExitLink(t)||(a=!0,e.set("isExitLink",!0).set("linkTypeName","exit link"),i.push("isExitLink")),e.has("isSocial")&&!e.has("linkTypeName")||!isSocial(t)||(a=!0,e.set("isSocial",!0).set("linkTypeName","social link"),i.push("isSocial")),e.set("targetHost",getHostName(t.href)).set("internalCampaign",window._sdi.util.getQueryParam("icid",t.href)||window._sdi.util.getQueryParam("intcmp",t.href)||""),!0===a&&(console.debug("Attributes are set via DOM parsing. Please use the analytics map to declare analytics data."),console.debug("Attributes set via DOM parsing:",i)),e},getLinkText=function(t){return redactEmail(t.getAttribute("data-analytics-text")||t.getAttribute("sObjectId")||t.getAttribute("s-object-id")||t.getAttribute("sObjectID")||t.getAttribute("data-s-object-id")||t.innerText&&""!==t.innerText.trim()&&t.innerText.trim()||t.textContent&&""!==t.textContent.trim()&&t.textContent.trim()||t.querySelector("[alt]")&&t.querySelector("[alt]").getAttribute("alt")||t.querySelector("[title]")&&t.querySelector("[title]").getAttribute("title")||t.getAttribute("aria-label")||t.href||"unknown")},getRegions=function(t,e){if(e=e||[],!t)return e;var a=t.closest("[data-analytics-region]");return a?(e.push(a.dataset.analyticsRegion),e=getRegions(a.parentElement,e)):e},removeReservedAttributes=function(t){return reservedAttributes.forEach((function(e){t.delete(e)})),t},attributesMapToArray=function(t){const e=[];return t.forEach(((t,a)=>e[a]=t)),e},redactEmail=function(t){return t.replace(/[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,6}/gi,"email_address_redacted")},buildDataObject=function(t,e,a){return a=a||getRegions(t),{event:buildEventName(t,e,a),linkInfo:Object.assign({href:t.href,regions:a.constructor===Array?a.reverse().join("|"):a,text:getLinkText(t)},attributesMapToArray(removeReservedAttributes(e)))}},buildEventName=function(t,e){return e.has("event")?e.get("event"):"Master Link Clicked"},findRootElement=function(t){var e;if(Object.values([EVENTS.PFE_NAV_EXPAND,EVENTS.PFE_NAV_COLLAPSE,EVENTS.PFE_ACCORDION_CHANGE]).includes(t.type))e=t.detail.toggle;else if(t.type===EVENTS.PFE_TABS_SHOWN){const a=t.target.closest("pfe-content-set");if("PFE-CONTENT-SET"===t.target.tagName){const i=t.detail.tab.querySelector("slot");e=a.getSlot(i.getAttribute("name"))[0]}}else"PFE-TAB"===t.target.tagName||"RH-TAB"===t.target.tagName?e=t.target:"click"===t.type&&"PFE-CONTENT-SET"===t.target.tagName?e=t.target.shadowRoot.activeElement:void 0!==t.target&&(e=t.target.closest('a, button, [data-analytics-event], [role="button"]'));return e||t.composedPath().find((t=>"A"===t.tagName||"BUTTON"===t.tagName||"function"==typeof t.hasAttribute&&t.hasAttribute("data-analytics-event")))},isJavascript=function(t){return new RegExp("^javascript:","i").test(t.href)},isDownload=function(t){return new RegExp("("+downloadExtensions.join("|")+")$","i").test(t.href)},isExitLink=function(t){return!!t.href&&!new RegExp(_satellite.getVar("exitExclusionArray").join("|"),"i").test(t.href)},isSocial=function(t){var e=new RegExp(_satellite.getVar("socialDomainList").join("$|")+"$","i"),a=getHostName(t.href);return e.test(a)},isCrossPropertyDomain=function(t){return document.location.hostname!==getHostName(t.href)&&"access.cdn.redhat.com"!==getHostName(t.href)&&new RegExp(_satellite.getVar("redHatDomains").join("|"),"i").test(getHostName(t.href))},isCta=function(t){var e=["pfe-cta a",".cta-primary",".account-register-link","a.rh-cta-link","p.cta-group a","[data-ux-cta-type*='video-play']","div.ux-cta a.ux-cta-link:not([data-ux-cta-type*='video-play'])","a.rh-promo-cta-link","[data-rh-cta-type='primary']","[data-ux-cta-type='primary']","rh-cta a"];for(let a=0;a<e.length;a++)if(t.matches(e[a])||null!==t.closest(e[a]))return!0},isTab=function(t){return t.classList.contains('[data-toggle="tab"]')||t.classList.contains("pfe-accordion-header")||t.classList.contains('[role="tab"]')||t.classList.contains("ux-vtab-nav-link")||t.classList.contains("ux-tile-nav-link")||t.classList.contains("btn-brick")||t.classList.contains("ux-htab-nav-link")||t.classList.contains("ux-horizontal-tab-nav-link")||t.classList.contains("ux-oss-hub-filter-type-text")||t.classList.contains("ux-htabb-nav-link")||"tab"===t.getAttribute("data-toggle")||"PFE-ACCORDION-HEADER"===t.tagName||"tab"===t.getAttribute("role")||"RH-TAB"===t.tagName},isFooter=function(t){let e=t.closest("footer");return void 0!==e&&null!=e},isInternalCampaign=function(t){let e;return(""!=window._sdi.util.getQueryParam("icid",t.href)||""!=window._sdi.util.getQueryParam("intcmp",t.href))&&(e=t.getAttribute("role")||"",_satellite.logger.log("isInternalCampaign: linkRole:",e),"tab"!==e||void 0)},isPromoSection=function(t){let e=t.closest("div.band-hero");return void 0!==e&&null!=e},isSearchContainer=function(t){_satellite.logger.log("isSearchContainer ran");let e=t.closest("div.cp-sidebar")||t.closest("div.cp-search-results")||t.closest("div.rhdc-search-listing--content a");return _satellite.logger.log("isSearchContainer el",e),_satellite.logger.log("isSearchContainer return",void 0!==e&&null!=e),void 0!==e&&null!=e},isGemini=function(t){var e=["div.ux-cta a[data-rh-gemini-evaluation-id].ux-cta-link","div.rc-cta-primary a[data-rh-gemini-evaluation-id].ux-cta-link"];for(let a=0;a<e.length;a++)if(t.matches(e[a]))return!0},getHostName=function(t){let e=document.createElement("a");return e.href=t,e.hostname},pushEvent=function(t){window.appEventData=window.appEventData||[],console.info("Pushing to the dataLayer",t);var e=window[dataLayerName];Array.isArray(e)&&e.push(t)};const isAnalyticsEntry=t=>t.startsWith("data-analytics-"),lowercaseFirst=t=>`${t.charAt(0).toLowerCase()}${t.slice(1)}`,ATTRIBUTES__MAP={filename:"fileName",internalcampaign:"internalCampaign",isdownload:"isDownload",iscrosspropertydomain:"isCrossPropertyDomain",istab:"isTab",linktype:"linkType",linktypename:"linkTypeName",region:"regions"};
});</script><script>_satellite["_runScript5"](function(event, target, Promise) {
void 0!==_sdi.util.loadScript&&_sdi.util.loadScript("https://www.googletagmanager.com/gtag/js?id=DC-10727170",(function(){window.dataLayer=window.dataLayer||[],window.gtag=function(){dataLayer.push(arguments)},gtag("js",new Date),gtag("config","DC-10727170"),gtag("config","AW-991646916"),gtag("event","conversion",{allow_custom_scripts:!0,u1:window.location.hostname+window.location.pathname,send_to:"DC-10727170/unive0/redha0+standard"})}));
});</script><iframe height="0" width="0" style="display: none; visibility: hidden;" src="Conventions,%20tips,%20and%20pitfalls%20%E2%80%94%20Ansible%20Community%20Documentation-Dateien/activityi.html"></iframe><script>_satellite["_runScript6"](function(event, target, Promise) {
if("yes"==_satellite.getVar("tagsAllowedFunc")&&"yes"==_satellite.getVar("rhMarketingLoaded")){var scCid=_satellite.cookie.get("rh_omni_tc");if(""!==scCid&&void 0!==scCid)for(var updatedLink="",anchors=window.document.getElementsByTagName("a"),i=0;i<anchors.length;i++)(anchors[i].href.indexOf("vts.inxpo.com")>-1||anchors[i].href.indexOf("onlinexperiences.com")>-1)&&-1==anchors[i].href.toLowerCase().indexOf("affiliatedata=")&&""!==(updatedLink=window._sdi.util.appendQuery(anchors[i].href,"AffiliateData",scCid))&&(anchors[i].href=updatedLink)}
});</script><div class="st-injected-content-generated st-install-yABGvz2N8PwcwBxyfzUc" data-st-install-key="yABGvz2N8PwcwBxyfzUc" id="st-injected-content">
<div class="st-ui-embed st-search-chrome-overlay-output st-search-escape-hide-outputs st-search-zoom-on-mobile" style="display: none;">
  
    <div class="st-ui-overlay st-search-hide-outputs"></div>
  
  <!-- Swiftype input and results overlay -->
  
  <div class="st-ui-container st-ui-container-overlay  st-ui-injected-overlay-container ">
    <!-- HEADER -->
    <div class="st-ui-container-header_bar st-position-container">
      
        <section class="st-ui-header">
          <form>
            <input class="st-default-search-input st-search-set-focus" type="text" placeholder="Search this site" aria-label="Search this site" id="st-overlay-search-input" autocomplete="off" autocorrect="off" autocapitalize="none">
          </form>
          <span class="st-ui-search-icon"></span>

          
            <a class="st-ui-close-button st-search-hide-outputs">Close</a>
          

          
        </section>
      
    </div>

    <!-- LEFT SIDEBAR -->
    <div class="st-ui-container-left_sidebar st-position-container">
      
      <div class="st-ui-injected-search-controls">
        
          
        
      </div>
    </div>

    <!-- RIGHT SIDEBAR -->
    <div class="st-ui-container-right_sidebar st-position-container">
      
      <div class="st-ui-injected-container-right_sidebar">
        <div class="st-ui-injected-search-controls">
          
            
          
        </div>
      </div>
    </div>

    <!-- PRIMARY CONTENT -->
    <div class="st-ui-container-primary_content st-position-container">
      
        <section class="st-ui-slide-autocomplete st-autocomplete-keyboard-navigable st-autocomplete-transient-on-select-and-results" data-st-target-element="#st-overlay-search-input" data-st-active-query-class="active" style="display: none;">
          <span class="st-ui-type-heading-small">suggested results</span>
          <div class="st-autocomplete-results"><div class="st-query-present" style="display: none;"></div></div>
        </section>

        <section class="st-ui-content st-search-results"><div class="st-query-not-present">
          <span class="st-ui-fallback"></span>
        </div><div class="st-query-present" style="display: none;"></div></section>
      

      <section class="st-ui-no-results st-search-suggestions"><div class="st-query-not-present">
      </div></section>
    </div>



    <!-- FOOTER -->
    <div class="st-ui-container-footer_bar st-position-container">
      <section class="st-ui-footer">
        
          <span class="st-ui-search-summary st-search-summary" aria-live="polite"></span>
        
        <span class="st-ui-pagination st-search-pagination"></span>
      </section>
    </div>
  </div>
</div>
<div class="st-default-autocomplete" data-st-target-element=".st-default-search-input" style="display: none; position: absolute; top: 49px; left: 0px; z-index: 999999;">
  <div class="st-autocomplete-results st-ui-autocomplete"><div class="st-query-present" style="display: none;"></div></div>
</div>
<a class="st-search-show-outputs st-ui-search-tab">Search this site</a></div></body></html>